# Mesh5kServerTool
    # Mesh Server Tool

    Author: Skomesh
    Version 1.3.1

    Mesh Server Tool is a Python script designed to monitor and analyze log files generated by SCP 5k game servers. 
    It keeps track of user joins and leavings and automatically restart the server.

    ## Features

    - Real-time Analysis: Continuously monitors log files for changes and provides real-time analysis.
    - Player Tracking: Tracks player joins and disconnects, by their Steam IDs.
    - Game Mode Changes: Monitors changes in the game mode and logs when transitions occur.

    ## Dependencies

    - pygtail: A Python library for tailing log files.
    - psutil: A cross-platform library for retrieving information on running processes and system utilization.
    - flask: Web framework for the local web server.
    - flask-bootstrap: Web framework for the local web server.
    - gunicorn: Web framework for the local web server.
    - requests: Used to web server monitoring.

    Use this command in command prompt or terminal to install the dependencies:
    pip install -r requirements.txt
	
	## Usage
    # On Linux
	Execute the LaunchManager.sh script from inside the LaunchScripts directory.
	./LaunchManager.sh
	To start the web server, execute the LaunchWebServer.sh script.
	
	# On Windows
	Run the LaunchManager.bat file.
	To run the web server, run the LaunchWebServer.bat file.	

    ## Configuration

    # General configuration:
	Launching the server management tool will create a config.ini file. 
	
    The following are the parameters in the newly created config.ini file:
        [General]
            - log_checking_interval:    How often should the log file have new lines be evaluated?
                                        Lower means higher frequency, but higher system usage.
        [WebServer]
            - web_server_enabled:       true or false. If true, the tool assumes that the monitoring web server is active and will use it.
            - web_server_address:       Custom address of the web server. If hosted on same machine, this is usually '127.0.0.1'.
            - web_server_port:          Port of the web server. By default is 5000.
        [MOTD]
            - global_server_motd:       An MOTD message that will be used in every server instance if there is no server specific MOTD.

    # Server configuration:
	Create a directory with name: Server_[server name].
	
    Launching the server manager will create a new config file for the server.
	
    The following are the parameters in the newly created config.ini file
        - log_file_path:        The directory of the server's log file. The log file should be Pandemic.log.
        - saved_directory_path: The directory to the "Saved" folder. From the root folder, should be in Pandemic/Saved
        - max_reloads:          How many map changes should lead to a full server restart.
        - restricted_gamemode:  Should the server be restricted to only a single gamemode? Leave blank to allow map switching.
        - server_executable:    The directory to the actual server executable. Should be PandemicServer.exe on windows, or PandemicServer on linux.
                                    The executable should be in /Pandemic/Binaries/Linux OR WindowsServer/PandemicServer.exe
        - server_args:          Any arguments to be passed to the server, such as -port and -queryport. Each argument separated by commas
                                    ex. M_WaveSurvival,-port=7777,-queryport=27015
        - monitor_only:         Should the script manage the server by starting and stopping the server, or just monitor logs?
        - active_hours:         What time should the server be active for? In format HH:MM-HH:MM (ex 08:00-18:00)
        [MOTD]
            - motd:          What should be the server's MOTD be. Each message should separated by a /
            - join_motd:     What should the server post when players join. Each message should be separated by a /
            - crash_motd:    Should the server put the last crash in the MOTD?

    ## TODO 
    - Add a web interface [80%]
    - Aggregate user reports 
        - Use hashing for reports
    - Implement a global banning system
    - Implement a logging system [X]
    - Implement server configuration from web interface [In progress]
    - Implement ways to shutdown and restart servers through the web interface [X]
    - Implement server messages to indicate restart times and other MOTD stuff [X]